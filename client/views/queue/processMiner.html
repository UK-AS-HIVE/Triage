<template name="processMiner">
  <h4>Process Mining</h4>

  <div class="row">
    <div class="col-md-3">
      <table class="table">
        <thead>
          <th>From</th>
          <th>To</th>
          <th>Count</th>
        </thead>
        <tbody>
          {{#each changes}}
            <tr>
              <td>{{oldValue}}</td>
              <td>{{newValue}}</td>
              <td>{{count}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
    <div class="col-md-9">
      {{#with graph}}
      <svg width="100%" height="500">
        {{#each nodes}}
          <circle cx={{x}} cy={{y}} r="5" fill="purple"></circle>
          <text x={{x}} y={{y}}>{{status}}</text>
        {{/each}}
        <defs>
          <marker id="mT2" markerWidth="20" markerHeight="10" refX="20" refY="5" markerUnits="userSpaceOnUse" orient="auto">
            <path d="M0,0 L20,5 0,10 5,5 Z" style="fill: black;"/>
          </marker>
        </defs>
        {{#each edges}}
        <!--<line x1={{from.x}} y1={{from.y}} x2={{to.x}} y2={{to.y}} stroke="black" stroke-width={{count}} marker-end="url(#mT2)"></line>-->
        <path d="M{{from.x}},{{from.y}} A{{r.x}},{{r.y}} {{rot}} 0,0 {{to.x}},{{to.y}}" stroke="black" fill="none" stroke-width={{count}} marker-end="url(#mT2)"></path>
        {{/each}}
      </svg>
      {{/with}}
    </div>
  </div>
</template>

